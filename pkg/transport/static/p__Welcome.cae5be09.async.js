(self.webpackChunkidas_ui=self.webpackChunkidas_ui||[]).push([[185],{42088:function(g){g.exports={ListItem:"ListItem___osY4B"}},8668:function(g){g.exports={AppList:"AppList___1Uhdo",Footer:"Footer___3lqSu"}},99376:function(g,W,e){"use strict";var te=e(71194),B=e(34883),se=e(402),O=e(97272),X=e(71153),Z=e(60331),J=e(57663),S=e(71577),Q=e(34792),M=e(48086),v=e(39428),P=e(11849),C=e(3182),h=e(2824),D=e(93224),u=e(96486),ae=e.n(u),c=e(67294),p=e(2844),R=e(51042),x=e(43471),U=e(57119),L=e(8978),E=e(42088),K=e.n(E),i=e(85893),j=["intl","request","metas","onEdit","onCreate","onClick"],ie=function(m){var s=m.intl,_=m.request,le=m.metas,A=m.onEdit,V=m.onCreate,F=m.onClick,oe=(0,D.Z)(m,j),b=(0,c.useRef)(),re=(0,c.useState)(),w=(0,h.Z)(re,2),y=w[0],_e=w[1],ue=(0,c.useState)(),q=(0,h.Z)(ue,2),de=q[0],$=q[1],ee=(0,c.useCallback)(function(){var a=(0,C.Z)((0,v.Z)().mark(function t(n){return(0,v.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",((0,u.isFunction)(_)?_:_.list)((0,P.Z)((0,P.Z)({},n),{},{keywords:y??void 0})).then(function(o){return o.total===void 0||o.pageSize===void 0||o.current===void 0?$(!0):o.total<o.current*o.pageSize?$(!1):$(!0),o}));case 1:case"end":return d.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),[_,y]),z=function(t,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=l.processing,o=l.success,k=l.error,ne=t??(!(0,u.isFunction)(_)&&n&&_.patch?function(){var G=(0,C.Z)((0,v.Z)().mark(function I(T){var f;return(0,v.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(f=_.patch)===null||f===void 0?void 0:f.call(_,T.map(n)));case 1:case"end":return r.stop()}},I)}));return function(I){return G.apply(this,arguments)}}():null);if(!!ne)return function(){var G=(0,C.Z)((0,v.Z)().mark(function I(T){var f;return(0,v.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return f=M.default.loading(d??s.t("message.processing","Processing ...")),r.prev=1,r.next=4,ne((0,u.isString)(T)?[{id:T}]:T.map(function(ve){return{id:ve}}));case 4:return f(),M.default.success(o??s.t("message.operationSuccessd","Operation succeeded.")),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),f(),M.default.error(k??s.t("message.operationFailed","Operation failed, please try again.")),r.abrupt("return",!1);case 14:case"end":return r.stop()}},I,null,[[1,9]])}));return function(I){return G.apply(this,arguments)}}()},N=z((0,u.isFunction)(_)?void 0:_.delete,function(a){var t=a.id;return{id:t,isDelete:!0}},{processing:s.t("message.removing","Removing ..."),success:s.t("message.removeSuccessd","Remove successfully and will refresh soon"),error:s.t("message.removeFailed","Remove failed, please try again")}),H=z((0,u.isFunction)(_)?void 0:_.disable,function(a){var t=a.id;return{id:t,isDisable:!0}},{processing:s.t("message.disabling","Disabling ..."),success:s.t("message.disableSuccessd","Disabled successfully and will refresh soon"),error:s.t("message.disableFailed","Disable failed, please try again")}),Y=z((0,u.isFunction)(_)?void 0:_.enable,function(a){var t=a.id;return{id:t,isDisable:!1}},{processing:s.t("message.enabling","Enabling ..."),success:s.t("message.enableSuccessd","Enabled successfully and will refresh soon"),error:s.t("message.enableFailed","Enable failed, please try again")});return(0,c.useEffect)(function(){var a;(a=b.current)===null||a===void 0||a.reload()},[ee]),(0,i.jsx)(L.ZP,(0,P.Z)({pagination:de?{defaultPageSize:20,showSizeChanger:!0}:!1,actionRef:b,showActions:"always",grid:{gutter:16,column:3,xxl:4,xl:4,lg:4,md:3,sm:2,xs:1},toolbar:{search:!0,onSearch:function(t){var n;_e(t),(n=b.current)===null||n===void 0||n.reload()},actions:[(0,i.jsxs)(S.Z,{hidden:!V,type:"primary",onClick:V,children:[(0,i.jsx)(R.Z,{}),s.t("button.create","Create")]},"create")],settings:[{icon:(0,i.jsx)(x.Z,{onClick:function(){var t;return(t=b.current)===null||t===void 0?void 0:t.reload()}}),key:"reload",onClick:function(){var t;return(t=b.current)===null||t===void 0?void 0:t.reload()}}]},itemCardProps:{className:K().ListItem},onItem:function(t){return{onClick:function(){F==null||F(t)}}},metas:(0,P.Z)({title:{render:function(t,n){var l;return(l=n.displayName)!==null&&l!==void 0?l:n.name}},subTitle:{render:function(t,n){return n.isDisable?(0,i.jsx)(Z.Z,{color:"red",children:s.t("button.disabled","Disabled")}):(0,i.jsx)(i.Fragment,{})}},content:{render:function(t,n){var l;return(0,i.jsx)(O.Z.Paragraph,{ellipsis:{rows:2,tooltip:n.description},children:(l=n.description)!==null&&l!==void 0?l:""})}},avatar:{dataIndex:"avatar",search:!1,render:function(t,n){return(0,u.isString)(n.avatar)?(0,i.jsx)(p.ZP,{size:"default",src:n.avatar}):n.avatar}},actions:A||N||Y||H?{cardActionProps:"actions",render:function(t,n){return[A?(0,i.jsx)("a",{onClick:function(){A==null||A(n)},children:s.t("button.edit","Edit")},"edit"):null,N?(0,i.jsx)("a",{onClick:function(){B.Z.confirm({title:s.t("confirm.remove","Are you sure you want to remove this item?"),icon:(0,i.jsx)(U.Z,{}),onOk:function(){N(n.id)},maskClosable:!0})},children:s.t("button.remove","Remove")},"remove"):null,n.isDisable!==void 0&&(n.isDisable?Y:H)?(0,i.jsx)("a",{onClick:function(){B.Z.confirm({title:n.isDisable?s.t("confirm.enable","Are you sure you want to enable this item?"):s.t("confirm.disable","Are you sure you want to disable this item?"),icon:(0,i.jsx)(U.Z,{}),onOk:function(){var o;(o=n.isDisable?Y:H)===null||o===void 0||o(n.id)},maskClosable:!0})},children:n.isDisable?s.t("button.enable","Enable"):s.t("button.disable","Disable")},"disable_or_enable"):void 0]}}:void 0},le),request:ee},oe))};W.Z=ie},53922:function(g,W,e){"use strict";e.r(W);var te=e(34792),B=e(48086),se=e(67294),O=e(21010),X=e(60923),Z=e(29791),J=e(99376),S=e(37959),Q=e(89652),M=e(93400),v=e(72709),P=e(43037),C=e(8668),h=e.n(C),D=e(85893),u=function(){var c,p,R,x=new M.f("pages.welcome",(0,O.YB)()),U=(0,O.tT)("@@initialState"),L=U.initialState,E=(c=L==null?void 0:L.globalConfig)!==null&&c!==void 0?c:null;return(0,D.jsxs)(P.ZP,{logo:(p=E==null?void 0:E.logo)!==null&&p!==void 0?p:(0,v.Ak)("logo.svg"),title:(R=E==null?void 0:E.title)!==null&&R!==void 0?R:X.Z.title,onMenuHeaderClick:function(){O.m8.push("/")},layout:"top",navTheme:"dark",rightContentRender:function(){return(0,D.jsx)(S.Z,{})},children:[(0,D.jsx)(J.Z,{cardProps:{className:h().AppList},intl:x,request:{list:Q.hX},onClick:function(i){if(i.url){var j=window.open("about:blank");j&&(j.location.href=i.url)}else B.default.warn("The URL for this application is not configured. Please contact the administrator.")}}),(0,D.jsx)(Z.Z,{className:h().Footer})]})};W.default=u}}]);
