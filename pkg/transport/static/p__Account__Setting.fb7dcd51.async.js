(self.webpackChunkidas_ui=self.webpackChunkidas_ui||[]).push([[263],{16894:function(K,W,n){"use strict";var C=n(4582);W.ZP=C.Z},19273:function(K,W,n){"use strict";n.d(W,{Z:function(){return C}});function C(O){if(O==null)throw new TypeError("Cannot destructure undefined")}},80321:function(K){K.exports={baseView:"baseView___oUjxy",left:"left___QdCoD",right:"right___2m6ha",avatar_title:"avatar_title___pMeZU",avatar:"avatar___2h6EO",button_view:"button_view___3YYEA"}},79738:function(K){K.exports={main:"main___1HS-r",leftMenu:"leftMenu___3vGFj",right:"right___R4J4v",title:"title___26J81"}},7870:function(K,W,n){"use strict";n.r(W),n.d(W,{default:function(){return or}});var C=n(11849),O=n(2824),Zr=n(30887),ue=n(43084),yr=n(34442),m=n(67294),ee=n(21010),we=n(60923),xe=n(37959),B=n(89652),k=n(93400),je=n(43037),re=n(21349),wr=n(71194),ne=n(34883),xr=n(57663),de=n(71577),jr=n(9715),E=n(63202),$r=n(47673),X=n(28166),ce=n(69610),ve=n(54941),fe=n(81306),pe=n(6298),w=n(39428),Cr=n(34792),N=n(48086),V=n(3182),$e=n(2844),Ce=n(80321),te=n.n(Ce),e=n(85893),Se=function(){var v=(0,V.Z)((0,w.Z)().mark(function c(o){var a,r,i,u,d,l,t;return(0,w.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=o.id,r=o.username,i=o.avatar,u=o.fullName,d=o.phoneNumber,l=o.email,t=N.default.loading("Updating ..."),s.prev=2,s.next=5,(0,B.SF)({id:a,username:r,avatar:i,fullName:u,phoneNumber:d,email:l});case 5:return t(),N.default.success("Updated successfully"),s.abrupt("return",!0);case 10:return s.prev=10,s.t0=s.catch(2),t(),N.default.error("Update failed, please try again!"),s.abrupt("return",!1);case 15:case"end":return s.stop()}},c,null,[[2,10]])}));return function(o){return v.apply(this,arguments)}}(),Ue=function(v){(0,fe.Z)(o,v);var c=(0,pe.Z)(o);function o(){var a;(0,ce.Z)(this,o);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return a=c.call.apply(c,[this].concat(i)),a.view=void 0,a.getViewDom=function(d){a.view=d},a.handleFinish=function(){var d=(0,V.Z)((0,w.Z)().mark(function l(t){var h,s,S;return(0,w.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return h=a.props,s=h.currentUser,S=h.reload,f.next=3,Se((0,C.Z)((0,C.Z)({},s),t));case 3:S();case 4:case"end":return f.stop()}},l)}));return function(l){return d.apply(this,arguments)}}(),a}return(0,ve.Z)(o,[{key:"render",value:function(){var r=this.props.currentUser;return(0,e.jsx)("div",{className:te().baseView,ref:this.getViewDom,children:(0,e.jsxs)(E.Z,{layout:"vertical",onFinish:this.handleFinish,initialValues:r,requiredMark:!0,style:{display:"flex"},children:[(0,e.jsxs)("div",{className:te().left,children:[(0,e.jsx)(E.Z.Item,{name:"username",label:this.props.parentIntl.t("basic.username","Username"),children:(0,e.jsx)(X.Z,{disabled:!0})}),(0,e.jsx)(E.Z.Item,{name:"email",label:this.props.parentIntl.t("basic.email"),rules:[{required:!0,message:this.props.parentIntl.t("basic.email-message")}],children:(0,e.jsx)(X.Z,{})}),(0,e.jsx)(E.Z.Item,{name:"fullName",label:this.props.parentIntl.t("basic.fullname"),children:(0,e.jsx)(X.Z,{})}),(0,e.jsx)(E.Z.Item,{name:"phoneNumber",label:this.props.parentIntl.t("basic.phone"),children:(0,e.jsx)(X.Z,{})}),(0,e.jsx)(E.Z.Item,{children:(0,e.jsx)(de.Z,{htmlType:"submit",type:"primary",children:this.props.parentIntl.t("basic.update","Update Information")})})]}),(0,e.jsxs)("div",{className:te().right,children:[(0,e.jsx)(E.Z.Item,{name:"avatar",label:this.props.parentIntl.t("basic.avatar","Avatar"),children:(0,e.jsx)($e.G2,{})}),(0,e.jsx)(ne.Z,{open:!1})]})]})})}}]),o}(m.Component),be=Ue,Fe=n(19273),Me=function(c){return(0,Fe.Z)(c),(0,e.jsx)(e.Fragment,{})},Ie=Me,Sr=n(54421),se=n(38272),Ur=n(77576),Pe=n(12028),me=n(93224),Te=["request","checked","onChange"],Re=function(c){var o=c.request,a=c.checked,r=c.onChange,i=(0,me.Z)(c,Te),u=(0,m.useState)(!1),d=(0,O.Z)(u,2),l=d[0],t=d[1],h=(0,m.useState)(a),s=(0,O.Z)(h,2),S=s[0],y=s[1];return(0,m.useEffect)(function(){y(a)},[a]),(0,e.jsx)(Pe.Z,(0,C.Z)({onChange:function(){var f=(0,V.Z)((0,w.Z)().mark(function I(g,P){return(0,w.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,r==null||r(g,P),t(!0),p.next=5,o();case 5:y(g),p.next=11;break;case 8:p.prev=8,p.t0=p.catch(0),y(!g);case 11:return p.prev=11,t(!1),p.finish(11);case 14:case"end":return p.stop()}},I,null,[[0,8,11,14]])}));return function(I,g){return f.apply(this,arguments)}}(),loading:l,checked:S},i))},he=Re,Ae=n(57119),Y=n(55507),ae=n(92137),H=n(28991),ie=n(28481),De=n(81253),Ne=n(73177),Ve=n(88182),Oe=n(72378),Be=n.n(Oe),Ee=n(21770),Le=n(80334),ke=n(73935),He=n(42489),Ge=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function ge(v){var c,o,a,r,i=v.children,u=v.trigger,d=v.onVisibleChange,l=v.onOpenChange,t=v.modalProps,h=v.onFinish,s=v.submitTimeout,S=v.title,y=v.width,f=v.visible,I=v.open,g=(0,De.Z)(v,Ge);(0,Le.ET)(!g.footer||!(t!=null&&t.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var P=(0,m.useContext)(Ve.ZP.ConfigContext),A=(0,m.useState)([]),p=(0,ie.Z)(A,2),T=p[1],x=(0,m.useState)(!1),j=(0,ie.Z)(x,2),U=j[0],G=j[1],ur=(0,Ee.Z)(!!f,{value:I||f,onChange:l||d}),Ze=(0,ie.Z)(ur,2),J=Ze[0],L=Ze[1],_=(0,m.useRef)(null),dr=(0,m.useCallback)(function($){_.current===null&&$&&T([]),_.current=$},[]),ye=(0,m.useRef)(),cr=(0,m.useCallback)(function(){var $,Z,b,M=($=(Z=g.form)!==null&&Z!==void 0?Z:(b=g.formRef)===null||b===void 0?void 0:b.current)!==null&&$!==void 0?$:ye.current;M&&t!==null&&t!==void 0&&t.destroyOnClose&&M.resetFields()},[t==null?void 0:t.destroyOnClose,g.form,g.formRef]);(0,m.useEffect)(function(){J&&(I||f)&&(l==null||l(!0),d==null||d(!0))},[f,I,J]);var vr=(0,m.useMemo)(function(){return u?m.cloneElement(u,(0,H.Z)((0,H.Z)({key:"trigger"},u.props),{},{onClick:function(){var $=(0,ae.Z)((0,Y.Z)().mark(function b(M){var D,F;return(0,Y.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:L(!J),(D=u.props)===null||D===void 0||(F=D.onClick)===null||F===void 0||F.call(D,M);case 2:case"end":return R.stop()}},b)}));function Z(b){return $.apply(this,arguments)}return Z}()})):null},[L,u,J]),fr=(0,m.useMemo)(function(){var $,Z,b,M,D,F,Q,R;return g.submitter===!1?!1:Be()({searchConfig:{submitText:($=(Z=t==null?void 0:t.okText)!==null&&Z!==void 0?Z:(b=P.locale)===null||b===void 0||(M=b.Modal)===null||M===void 0?void 0:M.okText)!==null&&$!==void 0?$:"\u786E\u8BA4",resetText:(D=(F=t==null?void 0:t.cancelText)!==null&&F!==void 0?F:(Q=P.locale)===null||Q===void 0||(R=Q.Modal)===null||R===void 0?void 0:R.cancelText)!==null&&D!==void 0?D:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:s?U:void 0,onClick:function(gr){var oe;L(!1),t==null||(oe=t.onCancel)===null||oe===void 0||oe.call(t,gr)}}},g.submitter)},[(c=P.locale)===null||c===void 0||(o=c.Modal)===null||o===void 0?void 0:o.cancelText,(a=P.locale)===null||a===void 0||(r=a.Modal)===null||r===void 0?void 0:r.okText,t,g.submitter,L,U,s]),pr=(0,m.useCallback)(function($,Z){return(0,e.jsxs)(e.Fragment,{children:[$,_.current&&Z?(0,e.jsx)(m.Fragment,{children:(0,ke.createPortal)(Z,_.current)},"submitter"):Z]})},[]),mr=(0,m.useCallback)(function(){var $=(0,ae.Z)((0,Y.Z)().mark(function Z(b){var M,D,F;return(0,Y.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return M=h==null?void 0:h(b),s&&M instanceof Promise&&(G(!0),D=setTimeout(function(){return G(!1)},s),M.finally(function(){clearTimeout(D),G(!1)})),R.next=4,M;case 4:return F=R.sent,F&&L(!1),R.abrupt("return",F);case 7:case"end":return R.stop()}},Z)}));return function(Z){return $.apply(this,arguments)}}(),[h,L,s]),hr=(0,Ne.X)(J);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ne.Z,(0,H.Z)((0,H.Z)((0,H.Z)({title:S,width:y||800},t),hr),{},{onCancel:function(Z){var b;s&&U||(L(!1),t==null||(b=t.onCancel)===null||b===void 0||b.call(t,Z))},afterClose:function(){var Z;cr(),L(!1),t==null||(Z=t.afterClose)===null||Z===void 0||Z.call(t)},footer:g.submitter!==!1?(0,e.jsx)("div",{ref:dr,style:{display:"flex",justifyContent:"flex-end"}}):null,children:(0,e.jsx)(He.I,(0,H.Z)((0,H.Z)({formComponentType:"ModalForm",layout:"vertical",formRef:ye},g),{},{submitter:fr,onFinish:function(){var $=(0,ae.Z)((0,Y.Z)().mark(function Z(b){var M;return(0,Y.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,mr(b);case 2:return M=F.sent,F.abrupt("return",M);case 4:case"end":return F.stop()}},Z)}));return function(Z){return $.apply(this,arguments)}}(),contentRender:pr,children:i}))})),vr]})}var z=n(5966),Ke=["newPassword2"],We=function(v){var c=v.parentIntl,o=v.currentUser,a=new k.f("modify-password",c),r=E.Z.useForm(),i=(0,O.Z)(r,1),u=i[0];return(0,e.jsx)(ge,{title:a.t("title","Modify Password"),trigger:(0,e.jsx)("a",{children:c.t("modify","Modify")}),form:u,autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,maskClosable:!1},width:600,onFinish:function(){var d=(0,V.Z)((0,w.Z)().mark(function l(t){var h,s,S;return(0,w.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return h=t.newPassword2,s=(0,me.Z)(t,Ke),h!=s.newPassword&&N.default.error("The passwords entered two times are inconsistent."),f.next=4,(0,B.c0)((0,C.Z)((0,C.Z)({},s),{},{username:o==null?void 0:o.username}));case 4:if(S=f.sent,!S.success){f.next=8;break}return N.default.info("Password updated successfully!"),f.abrupt("return",!0);case 8:return f.abrupt("return",!1);case 9:case"end":return f.stop()}},l)}));return function(l){return d.apply(this,arguments)}}(),children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(z.Z.Password,{rules:[{required:!0}],width:"lg",name:"oldPassword",label:a.t("old-password","Old password")}),(0,e.jsx)(z.Z.Password,{rules:[{required:!0}],width:"lg",name:"newPassword",label:a.t("new-password","New password")}),(0,e.jsx)(z.Z.Password,{rules:[{required:!0}],width:"lg",name:"newPassword2",label:a.t("new-password","New password")})]})})},br=n(13254),Ye=n(14277),ze=n(84059),Je=n(79090),Qe=function(v){var c=v.parentIntl,o=c===void 0?new k.f("user.settings.security",(0,ee.YB)()):c,a=v.hidden,r=v.reload,i=new k.f("mfa-device",o),u=E.Z.useForm(),d=(0,O.Z)(u,1),l=d[0],t=(0,m.useState)(),h=(0,O.Z)(t,2),s=h[0],S=h[1],y=(0,m.useState)(!1),f=(0,O.Z)(y,2),I=f[0],g=f[1],P=function(){var A=(0,V.Z)((0,w.Z)().mark(function p(){return(0,w.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:S(void 0),g(!0),(0,B.HN)({}).then(function(j){S(j.data)}).finally(function(){g(!1)});case 3:case"end":return x.stop()}},p)}));return function(){return A.apply(this,arguments)}}();return(0,e.jsx)(ge,{title:i.t("bind","Bind MFA"),trigger:(0,e.jsx)("a",{hidden:a,children:o.t("bind","Bind")}),form:l,autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,maskClosable:!1},hidden:a,onOpenChange:function(p){p&&P()},submitter:{submitButtonProps:{disabled:!s,hidden:a}},onFinish:function(){var A=(0,V.Z)((0,w.Z)().mark(function p(T){return(0,w.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(s!=null&&s.token)){j.next=7;break}return j.next=3,(0,B.Xg)((0,C.Z)((0,C.Z)({},T),{},{token:s.token}));case 3:return r(),j.abrupt("return",!0);case 7:throw new Error("System error: token is null");case 8:case"end":return j.stop()}},p)}));return function(p){return A.apply(this,arguments)}}(),children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("p",{children:i.t("code-description","Please obtain two consecutive one-time passwords after scanning and adding MFA and enter them into the input box below.")}),(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{width:220,height:140},children:s!=null&&s.secret?(0,e.jsx)(ze.Qd,{style:{marginLeft:"40px"},value:s==null?void 0:s.secret}):(0,e.jsx)(Ye.Z,{description:"",style:{width:200,height:128},image:I?(0,e.jsx)(Je.Z,{}):void 0})}),(0,e.jsx)("div",{style:{display:"grid",width:"100%"},children:(0,e.jsx)(de.Z,{onClick:P,type:"link",children:i.t("refresh","Refresh")})})]}),(0,e.jsxs)("div",{style:{marginLeft:"30px"},children:[(0,e.jsx)(z.Z,{rules:[{pattern:/[0-9]{6}/,required:!0}],width:"sm",name:"firstCode",label:i.t("first-code","First code")}),(0,e.jsx)(z.Z,{rules:[{pattern:/[0-9]{6}/,required:!0}],width:"sm",name:"secondCode",label:i.t("second-code","Second code")})]})]})]})})},Xe=function(v){(0,fe.Z)(o,v);var c=(0,pe.Z)(o);function o(a){var r;return(0,ce.Z)(this,o),r=c.call(this,a),r.state={intl:new k.f("security",r.props.parentIntl)},r.t=function(i,u){var d,l=r.state.intl;return(d=l==null?void 0:l.t(i,u))!==null&&d!==void 0?d:""},r.passwordStrength={strong:(0,e.jsx)("span",{className:"strong",children:r.t("strong","Strong")}),medium:(0,e.jsx)("span",{className:"medium",children:r.t("medium","Medium")}),weak:(0,e.jsx)("span",{className:"weak",children:r.t("weak","Weak")})},r.getData=function(){var i,u,d,l,t,h,s,S,y,f,I,g,P,A;return[{title:r.t("password"),actions:[(0,e.jsx)(We,{parentIntl:r.state.intl,currentUser:r.props.currentUser},"modify-password")]},{title:r.t("mfa-phone"),description:"".concat(r.t("mfa-phone-description"),": ").concat((i=(u=r.props.currentUser)===null||u===void 0?void 0:u.phoneNumber)!==null&&i!==void 0?i:""),actions:[(0,e.jsx)(he,{request:(0,V.Z)((0,w.Z)().mark(function p(){var T,x;return(0,w.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,B.c9)({sms_as_mfa:!((T=r.props.currentUser)!==null&&T!==void 0&&(x=T.extendedData)!==null&&x!==void 0&&x.smsAsMFA)});case 2:r.props.reload();case 3:case"end":return U.stop()}},p)})),checked:(d=r.props.currentUser)===null||d===void 0||(l=d.extendedData)===null||l===void 0?void 0:l.smsAsMFA,onChange:function(){},size:"small"},"phone")]},{title:r.t("mfa-email"),description:"".concat(r.t("mfa-email-description"),": ").concat((t=(h=r.props.currentUser)===null||h===void 0?void 0:h.email)!==null&&t!==void 0?t:""),actions:[(0,e.jsx)(he,{checked:(s=r.props.currentUser)===null||s===void 0||(S=s.extendedData)===null||S===void 0?void 0:S.emailAsMFA,request:(0,V.Z)((0,w.Z)().mark(function p(){var T,x;return(0,w.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,B.c9)({email_as_mfa:!((T=r.props.currentUser)!==null&&T!==void 0&&(x=T.extendedData)!==null&&x!==void 0&&x.emailAsMFA)});case 2:r.props.reload();case 3:case"end":return U.stop()}},p)})),size:"small"},"email")]},{title:r.t("mfa-device"),description:(y=r.props.currentUser)!==null&&y!==void 0&&(f=y.extendedData)!==null&&f!==void 0&&f.totpAsMFA?r.t("mfa-device-description-bound"):r.t("mfa-device-description-unbound"),actions:[(0,e.jsx)(Qe,{parentIntl:r.state.intl,currentUser:r.props.currentUser,hidden:(I=r.props.currentUser)===null||I===void 0||(g=I.extendedData)===null||g===void 0?void 0:g.totpAsMFA,reload:r.props.reload},"mfa-binding"),(0,e.jsx)("a",{hidden:!((P=r.props.currentUser)!==null&&P!==void 0&&(A=P.extendedData)!==null&&A!==void 0&&A.totpAsMFA),onClick:function(){ne.Z.confirm({title:r.t("unbind-confirm","Are you sure you want to unbind the mfa device?"),icon:(0,e.jsx)(Ae.Z,{}),onOk:r.unbindMFADevice(r.props)})},children:r.t("unbind","Unbind")},"mfa-unbind")]}]},r.state={intl:new k.f("security",r.props.parentIntl)},r}return(0,ve.Z)(o,[{key:"unbindMFADevice",value:function(r){return(0,V.Z)((0,w.Z)().mark(function i(){var u;return(0,w.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return u=N.default.loading("Unbinding ..."),l.prev=1,l.next=4,(0,B.c9)({totp_as_mfa:!1});case 4:return u(),N.default.success("Unbind successfully and will refresh soon"),r.reload(),l.abrupt("return",!0);case 10:return l.prev=10,l.t0=l.catch(1),console.log(l.t0),u(),N.default.error("Unbind failed, please try again"),l.abrupt("return",!1);case 16:case"end":return l.stop()}},i,null,[[1,10]])}))}},{key:"render",value:function(){var r=this.getData();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(se.ZP,{itemLayout:"horizontal",dataSource:r,renderItem:function(u){return(0,e.jsx)(se.ZP.Item,{actions:u.actions,children:(0,e.jsx)(se.ZP.Item.Meta,{title:u.title,description:u.description})})}})})}}]),o}(m.Component),qe=Xe,_e=n(30381),le=n.n(_e),er=n(55035),rr=n(16894),nr=function(){var v=(0,V.Z)((0,w.Z)().mark(function c(o){var a;return(0,w.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o){i.next=2;break}return i.abrupt("return",!0);case 2:return a=N.default.loading("Deleting ..."),i.prev=3,i.next=6,(0,B._7)({id:o});case 6:return a(),N.default.success("Deleted successfully and will refresh soon"),i.abrupt("return",!0);case 11:return i.prev=11,i.t0=i.catch(3),a(),N.default.error("Delete failed, please try again"),i.abrupt("return",!1);case 16:case"end":return i.stop()}},c,null,[[3,11]])}));return function(o){return v.apply(this,arguments)}}(),tr=function(c){var o=c.currentUser,a=c.parentIntl,r=new k.f("sessions",a),i=(0,m.useRef)(),u=[{title:r.t("session.title.lastSeen","Last Seen"),dataIndex:"lastSeen",render:function(l,t){return le()(t.lastSeen).locale(r.locale).fromNow()}},{title:r.t("session.title.expiry","Expiry"),dataIndex:"expiry",render:function(l,t){return le()(t.expiry).locale(r.locale).fromNow()}},{title:r.t("session.title.loggedOn","Logged on"),dataIndex:"createTime",render:function(l,t){return le()(t.createTime).locale(r.locale).format("LLL")}},{render:function(l,t){return[(0,e.jsx)("a",{onClick:(0,V.Z)((0,w.Z)().mark(function h(){var s;return(0,w.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,nr(t.id);case 2:if(!y.sent){y.next=4;break}(s=i.current)===null||s===void 0||s.reload();case 4:case"end":return y.stop()}},h)})),children:(0,e.jsx)(er.Z,{})},"delete")]}}];return o?(0,e.jsx)(rr.ZP,{actionRef:i,toolBarRender:!1,request:function(l){return(0,B.H2)((0,C.Z)((0,C.Z)({},l),{},{userId:o.id}))},columns:u,rowKey:"id",search:!1}):null},sr=tr,ar=n(79738),q=n.n(ar),ir=ue.Z.Item,lr=function(c){var o=c.history,a=new k.f("user.settings",(0,ee.YB)()),r=(0,m.useRef)(null),i={base:a.t("menuMap.basic","Basic Settings"),security:a.t("menuMap.security","Security Settings"),binding:a.t("menuMap.binding","Account Binding"),sessions:a.t("menuMap.sessions","Sessions")},u=(0,ee.tT)("@@initialState"),d=u.initialState,l=u.setInitialState,t=(0,m.useState)(d==null?void 0:d.currentUser),h=(0,O.Z)(t,2),s=h[0],S=h[1],y=function(){var j=s??{},U=j.fetchTime;U&&U+1>Number(new Date)/1e3||(0,B.ar)().then(function(G){G.data&&(l((0,C.Z)((0,C.Z)({},d),{},{currentUser:(0,C.Z)((0,C.Z)({},G.data),{},{fetchTime:Number(new Date)/1e3})})),S((0,C.Z)((0,C.Z)({},G.data),{},{fetchTime:Number(new Date)/1e3})))})};(0,m.useEffect)(function(){y()},[]);var f=(0,m.useState)("base"),I=(0,O.Z)(f,2),g=I[0],P=I[1],A=function(){switch(g){case"base":return(0,e.jsx)(be,{parentIntl:a,currentUser:s,reload:y});case"security":return(0,e.jsx)(qe,{parentIntl:a,currentUser:s,reload:y});case"binding":return(0,e.jsx)(Ie,{});case"sessions":return(0,e.jsx)(sr,{parentIntl:a,currentUser:s});default:break}return null},p=function(){return Object.keys(i).map(function(j){return(0,e.jsx)(ir,{children:i[j]},j)})},T=function(){return i[g]};return(0,e.jsx)(je.ZP,{logo:window.publicPath+"logo.svg",title:we.Z.title,onMenuHeaderClick:function(){o.push("/")},layout:"top",navTheme:"dark",rightContentRender:function(){return(0,e.jsx)(xe.Z,{})},children:(0,e.jsx)(re.Z,{children:(0,e.jsxs)("div",{className:q().main,ref:r,children:[(0,e.jsx)("div",{className:q().leftMenu,children:(0,e.jsx)(ue.Z,{mode:"inline",selectedKeys:[g],onClick:function(j){var U=j.key;return P(U)},children:p()})}),(0,e.jsxs)("div",{className:q().right,children:[(0,e.jsx)("div",{className:q().title,children:T()}),A()]})]})})})},or=lr}}]);
