(self.webpackChunkidas_ui=self.webpackChunkidas_ui||[]).push([[263],{16894:function(K,H,n){"use strict";var C=n(4582);H.ZP=C.Z},19273:function(K,H,n){"use strict";n.d(H,{Z:function(){return C}});function C(O){if(O==null)throw new TypeError("Cannot destructure undefined")}},80321:function(K){K.exports={baseView:"baseView___oUjxy",left:"left___QdCoD",right:"right___2m6ha",avatar_title:"avatar_title___pMeZU",avatar:"avatar___2h6EO",button_view:"button_view___3YYEA"}},79738:function(K){K.exports={main:"main___1HS-r",leftMenu:"leftMenu___3vGFj",right:"right___R4J4v",title:"title___26J81"}},7870:function(K,H,n){"use strict";n.r(H),n.d(H,{default:function(){return or}});var C=n(11849),O=n(2824),ue=n(19273),Zr=n(30887),de=n(43084),yr=n(34442),h=n(67294),_=n(21010),xe=n(60923),je=n(37959),B=n(89652),k=n(93400),$e=n(43037),ee=n(21349),wr=n(71194),re=n(34883),xr=n(57663),ce=n(71577),jr=n(9715),E=n(63202),$r=n(47673),Q=n(28166),ve=n(69610),fe=n(54941),pe=n(81306),me=n(6298),y=n(39428),Cr=n(34792),N=n(48086),V=n(3182),Ce=n(2844),Se=n(80321),ne=n.n(Se),e=n(85893),Ue=function(){var v=(0,V.Z)((0,y.Z)().mark(function c(a){var o,r,i,u,d,l,t;return(0,y.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=a.id,r=a.username,i=a.avatar,u=a.fullName,d=a.phoneNumber,l=a.email,t=N.default.loading("Updating ..."),s.prev=2,s.next=5,(0,B.SF)({id:o,username:r,avatar:i,fullName:u,phoneNumber:d,email:l});case 5:return t(),N.default.success("Updated successfully"),s.abrupt("return",!0);case 10:return s.prev=10,s.t0=s.catch(2),t(),N.default.error("Update failed, please try again!"),s.abrupt("return",!1);case 15:case"end":return s.stop()}},c,null,[[2,10]])}));return function(a){return v.apply(this,arguments)}}(),be=function(v){(0,pe.Z)(a,v);var c=(0,me.Z)(a);function a(){var o;(0,ve.Z)(this,a);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return o=c.call.apply(c,[this].concat(i)),o.view=void 0,o.getViewDom=function(d){o.view=d},o.handleFinish=function(){var d=(0,V.Z)((0,y.Z)().mark(function l(t){var f,s,x;return(0,y.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=o.props,s=f.currentUser,x=f.reload,p.next=3,Ue((0,C.Z)((0,C.Z)({},s),t));case 3:x();case 4:case"end":return p.stop()}},l)}));return function(l){return d.apply(this,arguments)}}(),o}return(0,fe.Z)(a,[{key:"render",value:function(){var r=this.props.currentUser;return(0,e.jsx)("div",{className:ne().baseView,ref:this.getViewDom,children:(0,e.jsxs)(E.Z,{layout:"vertical",onFinish:this.handleFinish,initialValues:r,requiredMark:!0,style:{display:"flex"},children:[(0,e.jsxs)("div",{className:ne().left,children:[(0,e.jsx)(E.Z.Item,{name:"username",label:this.props.parentIntl.t("basic.username","Username"),children:(0,e.jsx)(Q.Z,{disabled:!0})}),(0,e.jsx)(E.Z.Item,{name:"email",label:this.props.parentIntl.t("basic.email"),rules:[{required:!0,message:this.props.parentIntl.t("basic.email-message")}],children:(0,e.jsx)(Q.Z,{})}),(0,e.jsx)(E.Z.Item,{name:"fullName",label:this.props.parentIntl.t("basic.fullname"),children:(0,e.jsx)(Q.Z,{})}),(0,e.jsx)(E.Z.Item,{name:"phoneNumber",label:this.props.parentIntl.t("basic.phone"),children:(0,e.jsx)(Q.Z,{})}),(0,e.jsx)(E.Z.Item,{children:(0,e.jsx)(ce.Z,{htmlType:"submit",type:"primary",children:this.props.parentIntl.t("basic.update","Update Information")})})]}),(0,e.jsxs)("div",{className:ne().right,children:[(0,e.jsx)(E.Z.Item,{name:"avatar",label:this.props.parentIntl.t("basic.avatar","Avatar"),children:(0,e.jsx)(Ce.G2,{})}),(0,e.jsx)(re.Z,{open:!1})]})]})})}}]),a}(h.Component),Fe=be,Me=function(c){return(0,ue.Z)(c),(0,e.jsx)(e.Fragment,{})},Ie=Me,Sr=n(54421),te=n(38272),Ur=n(77576),Pe=n(12028),he=n(93224),Te=["request","checked","onChange"],Re=function(c){var a=c.request,o=c.checked,r=c.onChange,i=(0,he.Z)(c,Te),u=(0,h.useState)(!1),d=(0,O.Z)(u,2),l=d[0],t=d[1],f=(0,h.useState)(o),s=(0,O.Z)(f,2),x=s[0],w=s[1];return(0,h.useEffect)(function(){w(o)},[o]),(0,e.jsx)(Pe.Z,(0,C.Z)({onChange:function(){var p=(0,V.Z)((0,y.Z)().mark(function I(Z,T){return(0,y.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,r==null||r(Z,T),t(!0),m.next=5,a();case 5:w(Z),m.next=11;break;case 8:m.prev=8,m.t0=m.catch(0),w(!Z);case 11:return m.prev=11,t(!1),m.finish(11);case 14:case"end":return m.stop()}},I,null,[[0,8,11,14]])}));return function(I,Z){return p.apply(this,arguments)}}(),loading:l,checked:x},i))},ge=Re,Ae=n(57119),W=n(55507),se=n(92137),G=n(28991),ae=n(28481),De=n(81253),Ne=n(73177),Ve=n(88182),Oe=n(72378),Be=n.n(Oe),Ee=n(21770),Le=n(80334),ke=n(73935),Ge=n(42489),Ke=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function Ze(v){var c,a,o,r,i=v.children,u=v.trigger,d=v.onVisibleChange,l=v.onOpenChange,t=v.modalProps,f=v.onFinish,s=v.submitTimeout,x=v.title,w=v.width,p=v.visible,I=v.open,Z=(0,De.Z)(v,Ke);(0,Le.ET)(!Z.footer||!(t!=null&&t.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var T=(0,h.useContext)(Ve.ZP.ConfigContext),A=(0,h.useState)([]),m=(0,ae.Z)(A,2),S=m[1],j=(0,h.useState)(!1),U=(0,ae.Z)(j,2),M=U[0],le=U[1],ur=(0,Ee.Z)(!!p,{value:I||p,onChange:l||d}),ye=(0,ae.Z)(ur,2),z=ye[0],L=ye[1],q=(0,h.useRef)(null),dr=(0,h.useCallback)(function($){q.current===null&&$&&S([]),q.current=$},[]),we=(0,h.useRef)(),cr=(0,h.useCallback)(function(){var $,g,b,P=($=(g=Z.form)!==null&&g!==void 0?g:(b=Z.formRef)===null||b===void 0?void 0:b.current)!==null&&$!==void 0?$:we.current;P&&t!==null&&t!==void 0&&t.destroyOnClose&&P.resetFields()},[t==null?void 0:t.destroyOnClose,Z.form,Z.formRef]);(0,h.useEffect)(function(){z&&(I||p)&&(l==null||l(!0),d==null||d(!0))},[p,I,z]);var vr=(0,h.useMemo)(function(){return u?h.cloneElement(u,(0,G.Z)((0,G.Z)({key:"trigger"},u.props),{},{onClick:function(){var $=(0,se.Z)((0,W.Z)().mark(function b(P){var D,F;return(0,W.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:L(!z),(D=u.props)===null||D===void 0||(F=D.onClick)===null||F===void 0||F.call(D,P);case 2:case"end":return R.stop()}},b)}));function g(b){return $.apply(this,arguments)}return g}()})):null},[L,u,z]),fr=(0,h.useMemo)(function(){var $,g,b,P,D,F,J,R;return Z.submitter===!1?!1:Be()({searchConfig:{submitText:($=(g=t==null?void 0:t.okText)!==null&&g!==void 0?g:(b=T.locale)===null||b===void 0||(P=b.Modal)===null||P===void 0?void 0:P.okText)!==null&&$!==void 0?$:"\u786E\u8BA4",resetText:(D=(F=t==null?void 0:t.cancelText)!==null&&F!==void 0?F:(J=T.locale)===null||J===void 0||(R=J.Modal)===null||R===void 0?void 0:R.cancelText)!==null&&D!==void 0?D:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:s?M:void 0,onClick:function(gr){var oe;L(!1),t==null||(oe=t.onCancel)===null||oe===void 0||oe.call(t,gr)}}},Z.submitter)},[(c=T.locale)===null||c===void 0||(a=c.Modal)===null||a===void 0?void 0:a.cancelText,(o=T.locale)===null||o===void 0||(r=o.Modal)===null||r===void 0?void 0:r.okText,t,Z.submitter,L,M,s]),pr=(0,h.useCallback)(function($,g){return(0,e.jsxs)(e.Fragment,{children:[$,q.current&&g?(0,e.jsx)(h.Fragment,{children:(0,ke.createPortal)(g,q.current)},"submitter"):g]})},[]),mr=(0,h.useCallback)(function(){var $=(0,se.Z)((0,W.Z)().mark(function g(b){var P,D,F;return(0,W.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return P=f==null?void 0:f(b),s&&P instanceof Promise&&(le(!0),D=setTimeout(function(){return le(!1)},s),P.finally(function(){clearTimeout(D),le(!1)})),R.next=4,P;case 4:return F=R.sent,F&&L(!1),R.abrupt("return",F);case 7:case"end":return R.stop()}},g)}));return function(g){return $.apply(this,arguments)}}(),[f,L,s]),hr=(0,Ne.X)(z);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(re.Z,(0,G.Z)((0,G.Z)((0,G.Z)({title:x,width:w||800},t),hr),{},{onCancel:function(g){var b;s&&M||(L(!1),t==null||(b=t.onCancel)===null||b===void 0||b.call(t,g))},afterClose:function(){var g;cr(),L(!1),t==null||(g=t.afterClose)===null||g===void 0||g.call(t)},footer:Z.submitter!==!1?(0,e.jsx)("div",{ref:dr,style:{display:"flex",justifyContent:"flex-end"}}):null,children:(0,e.jsx)(Ge.I,(0,G.Z)((0,G.Z)({formComponentType:"ModalForm",layout:"vertical",formRef:we},Z),{},{submitter:fr,onFinish:function(){var $=(0,se.Z)((0,W.Z)().mark(function g(b){var P;return(0,W.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,mr(b);case 2:return P=F.sent,F.abrupt("return",P);case 4:case"end":return F.stop()}},g)}));return function(g){return $.apply(this,arguments)}}(),contentRender:pr,children:i}))})),vr]})}var Y=n(5966),He=["newPassword2"],We=function(v){var c=v.parentIntl,a=v.currentUser,o=new k.f("modify-password",c),r=E.Z.useForm(),i=(0,O.Z)(r,1),u=i[0];return(0,e.jsx)(Ze,{title:o.t("title","Modify Password"),trigger:(0,e.jsx)("a",{children:c.t("modify","Modify")}),form:u,autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,maskClosable:!1},width:600,onFinish:function(){var d=(0,V.Z)((0,y.Z)().mark(function l(t){var f,s,x;return(0,y.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=t.newPassword2,s=(0,he.Z)(t,He),f!=s.newPassword&&N.default.error("The passwords entered two times are inconsistent."),p.next=4,(0,B.c0)((0,C.Z)((0,C.Z)({},s),{},{username:a==null?void 0:a.username}));case 4:if(x=p.sent,!x.success){p.next=8;break}return N.default.info("Password updated successfully!"),p.abrupt("return",!0);case 8:return p.abrupt("return",!1);case 9:case"end":return p.stop()}},l)}));return function(l){return d.apply(this,arguments)}}(),children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)(Y.Z.Password,{rules:[{required:!0}],width:"lg",name:"oldPassword",label:o.t("old-password","Old password")}),(0,e.jsx)(Y.Z.Password,{rules:[{required:!0}],width:"lg",name:"newPassword",label:o.t("new-password","New password")}),(0,e.jsx)(Y.Z.Password,{rules:[{required:!0}],width:"lg",name:"newPassword2",label:o.t("new-password","New password")})]})})},br=n(13254),Ye=n(14277),ze=n(84059),Je=n(79090),Qe=function(v){var c=v.parentIntl,a=c===void 0?new k.f("user.settings.security",(0,_.YB)()):c,o=v.hidden,r=v.reload,i=new k.f("mfa-device",a),u=E.Z.useForm(),d=(0,O.Z)(u,1),l=d[0],t=(0,h.useState)(),f=(0,O.Z)(t,2),s=f[0],x=f[1],w=(0,h.useState)(!1),p=(0,O.Z)(w,2),I=p[0],Z=p[1],T=function(){var A=(0,V.Z)((0,y.Z)().mark(function m(){return(0,y.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:x(void 0),Z(!0),(0,B.HN)({}).then(function(U){x(U.data)}).finally(function(){Z(!1)});case 3:case"end":return j.stop()}},m)}));return function(){return A.apply(this,arguments)}}();return(0,e.jsx)(Ze,{title:i.t("bind","Bind MFA"),trigger:(0,e.jsx)("a",{hidden:o,children:a.t("bind","Bind")}),form:l,autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,maskClosable:!1},hidden:o,onOpenChange:function(m){m&&T()},submitter:{submitButtonProps:{disabled:!s,hidden:o}},onFinish:function(){var A=(0,V.Z)((0,y.Z)().mark(function m(S){return(0,y.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(s!=null&&s.token)){U.next=7;break}return U.next=3,(0,B.Xg)((0,C.Z)((0,C.Z)({},S),{},{token:s.token}));case 3:return r(),U.abrupt("return",!0);case 7:throw new Error("System error: token is null");case 8:case"end":return U.stop()}},m)}));return function(m){return A.apply(this,arguments)}}(),children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)("p",{children:i.t("code-description","Please obtain two consecutive one-time passwords after scanning and adding MFA and enter them into the input box below.")}),(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{width:220,height:140},children:s!=null&&s.secret?(0,e.jsx)(ze.Qd,{style:{marginLeft:"40px"},value:s==null?void 0:s.secret}):(0,e.jsx)(Ye.Z,{description:"",style:{width:200,height:128},image:I?(0,e.jsx)(Je.Z,{}):void 0})}),(0,e.jsx)("div",{style:{display:"grid",width:"100%"},children:(0,e.jsx)(ce.Z,{onClick:T,type:"link",children:i.t("refresh","Refresh")})})]}),(0,e.jsxs)("div",{style:{marginLeft:"30px"},children:[(0,e.jsx)(Y.Z,{rules:[{pattern:/[0-9]{6}/,required:!0}],width:"sm",name:"firstCode",label:i.t("first-code","First code")}),(0,e.jsx)(Y.Z,{rules:[{pattern:/[0-9]{6}/,required:!0}],width:"sm",name:"secondCode",label:i.t("second-code","Second code")})]})]})]})})},Xe=function(v){(0,pe.Z)(a,v);var c=(0,me.Z)(a);function a(o){var r;return(0,ve.Z)(this,a),r=c.call(this,o),r.state={intl:new k.f("security",r.props.parentIntl)},r.t=function(i,u){var d,l=r.state.intl;return(d=l==null?void 0:l.t(i,u))!==null&&d!==void 0?d:""},r.passwordStrength={strong:(0,e.jsx)("span",{className:"strong",children:r.t("strong","Strong")}),medium:(0,e.jsx)("span",{className:"medium",children:r.t("medium","Medium")}),weak:(0,e.jsx)("span",{className:"weak",children:r.t("weak","Weak")})},r.getData=function(){var i,u,d,l,t,f,s,x,w,p,I,Z,T,A;return[{title:r.t("password"),actions:[(0,e.jsx)(We,{parentIntl:r.state.intl,currentUser:r.props.currentUser},"modify-password")]},{title:r.t("mfa-phone"),description:"".concat(r.t("mfa-phone-description"),": ").concat((i=(u=r.props.currentUser)===null||u===void 0?void 0:u.phoneNumber)!==null&&i!==void 0?i:""),actions:[(0,e.jsx)(ge,{request:(0,V.Z)((0,y.Z)().mark(function m(){var S,j;return(0,y.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,B.c9)({sms_as_mfa:!((S=r.props.currentUser)!==null&&S!==void 0&&(j=S.extendedData)!==null&&j!==void 0&&j.smsAsMFA)});case 2:r.props.reload();case 3:case"end":return M.stop()}},m)})),checked:(d=r.props.currentUser)===null||d===void 0||(l=d.extendedData)===null||l===void 0?void 0:l.smsAsMFA,onChange:function(){},size:"small"},"phone")]},{title:r.t("mfa-email"),description:"".concat(r.t("mfa-email-description"),": ").concat((t=(f=r.props.currentUser)===null||f===void 0?void 0:f.email)!==null&&t!==void 0?t:""),actions:[(0,e.jsx)(ge,{checked:(s=r.props.currentUser)===null||s===void 0||(x=s.extendedData)===null||x===void 0?void 0:x.emailAsMFA,request:(0,V.Z)((0,y.Z)().mark(function m(){var S,j;return(0,y.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,B.c9)({email_as_mfa:!((S=r.props.currentUser)!==null&&S!==void 0&&(j=S.extendedData)!==null&&j!==void 0&&j.emailAsMFA)});case 2:r.props.reload();case 3:case"end":return M.stop()}},m)})),size:"small"},"email")]},{title:r.t("mfa-device"),description:(w=r.props.currentUser)!==null&&w!==void 0&&(p=w.extendedData)!==null&&p!==void 0&&p.totpAsMFA?r.t("mfa-device-description-bound"):r.t("mfa-device-description-unbound"),actions:[(0,e.jsx)(Qe,{parentIntl:r.state.intl,currentUser:r.props.currentUser,hidden:(I=r.props.currentUser)===null||I===void 0||(Z=I.extendedData)===null||Z===void 0?void 0:Z.totpAsMFA,reload:r.props.reload},"mfa-binding"),(0,e.jsx)("a",{hidden:!((T=r.props.currentUser)!==null&&T!==void 0&&(A=T.extendedData)!==null&&A!==void 0&&A.totpAsMFA),onClick:function(){re.Z.confirm({title:r.t("unbind-confirm","Are you sure you want to unbind the mfa device?"),icon:(0,e.jsx)(Ae.Z,{}),onOk:r.unbindMFADevice(r.props)})},children:r.t("unbind","Unbind")},"mfa-unbind")]}]},r.state={intl:new k.f("security",r.props.parentIntl)},r}return(0,fe.Z)(a,[{key:"unbindMFADevice",value:function(r){return(0,V.Z)((0,y.Z)().mark(function i(){var u;return(0,y.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return u=N.default.loading("Unbinding ..."),l.prev=1,l.next=4,(0,B.c9)({totp_as_mfa:!1});case 4:return u(),N.default.success("Unbind successfully and will refresh soon"),r.reload(),l.abrupt("return",!0);case 10:return l.prev=10,l.t0=l.catch(1),console.log(l.t0),u(),N.default.error("Unbind failed, please try again"),l.abrupt("return",!1);case 16:case"end":return l.stop()}},i,null,[[1,10]])}))}},{key:"render",value:function(){var r=this.getData();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(te.ZP,{itemLayout:"horizontal",dataSource:r,renderItem:function(u){return(0,e.jsx)(te.ZP.Item,{actions:u.actions,children:(0,e.jsx)(te.ZP.Item.Meta,{title:u.title,description:u.description})})}})})}}]),a}(h.Component),qe=Xe,_e=n(30381),ie=n.n(_e),er=n(55035),rr=n(16894),nr=function(){var v=(0,V.Z)((0,y.Z)().mark(function c(a){var o;return(0,y.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a){i.next=2;break}return i.abrupt("return",!0);case 2:return o=N.default.loading("Deleting ..."),i.prev=3,i.next=6,(0,B._7)({id:a});case 6:return o(),N.default.success("Deleted successfully and will refresh soon"),i.abrupt("return",!0);case 11:return i.prev=11,i.t0=i.catch(3),o(),N.default.error("Delete failed, please try again"),i.abrupt("return",!1);case 16:case"end":return i.stop()}},c,null,[[3,11]])}));return function(a){return v.apply(this,arguments)}}(),tr=function(c){var a=c.currentUser,o=c.parentIntl,r=new k.f("sessions",o),i=(0,h.useRef)(),u=[{title:r.t("session.title.lastSeen","Last Seen"),dataIndex:"lastSeen",render:function(l,t){return ie()(t.lastSeen).locale(r.locale).fromNow()}},{title:r.t("session.title.expiry","Expiry"),dataIndex:"expiry",render:function(l,t){return ie()(t.expiry).locale(r.locale).fromNow()}},{title:r.t("session.title.loggedOn","Logged on"),dataIndex:"createTime",render:function(l,t){return ie()(t.createTime).locale(r.locale).format("LLL")}},{render:function(l,t){return[(0,e.jsx)("a",{onClick:(0,V.Z)((0,y.Z)().mark(function f(){var s;return(0,y.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,nr(t.id);case 2:if(!w.sent){w.next=4;break}(s=i.current)===null||s===void 0||s.reload();case 4:case"end":return w.stop()}},f)})),children:(0,e.jsx)(er.Z,{})},"delete")]}}];return a?(0,e.jsx)(rr.ZP,{actionRef:i,toolBarRender:!1,request:function(l){return(0,B.H2)((0,C.Z)((0,C.Z)({},l),{},{userId:a.id}))},columns:u,rowKey:"id",search:!1}):null},sr=tr,ar=n(79738),X=n.n(ar),ir=de.Z.Item,lr=function(c){(0,ue.Z)(c);var a=new k.f("user.settings",(0,_.YB)()),o=(0,h.useRef)(null),r={base:a.t("menuMap.basic","Basic Settings"),security:a.t("menuMap.security","Security Settings"),binding:a.t("menuMap.binding","Account Binding"),sessions:a.t("menuMap.sessions","Sessions")},i=(0,_.tT)("@@initialState"),u=i.initialState,d=i.setInitialState,l=(0,h.useState)(u==null?void 0:u.currentUser),t=(0,O.Z)(l,2),f=t[0],s=t[1],x=function(){var j=f??{},U=j.fetchTime;U&&U+1>Number(new Date)/1e3||(0,B.ar)().then(function(M){M.data&&(d((0,C.Z)((0,C.Z)({},u),{},{currentUser:(0,C.Z)((0,C.Z)({},M.data),{},{fetchTime:Number(new Date)/1e3})})),s((0,C.Z)((0,C.Z)({},M.data),{},{fetchTime:Number(new Date)/1e3})))})};(0,h.useEffect)(function(){x()},[]);var w=(0,h.useState)("base"),p=(0,O.Z)(w,2),I=p[0],Z=p[1],T=function(){switch(I){case"base":return(0,e.jsx)(Fe,{parentIntl:a,currentUser:f,reload:x});case"security":return(0,e.jsx)(qe,{parentIntl:a,currentUser:f,reload:x});case"binding":return(0,e.jsx)(Ie,{});case"sessions":return(0,e.jsx)(sr,{parentIntl:a,currentUser:f});default:break}return null},A=function(){return Object.keys(r).map(function(j){return(0,e.jsx)(ir,{children:r[j]},j)})},m=function(){return r[I]};return(0,e.jsx)($e.ZP,{logo:window.publicPath+"logo.svg",title:xe.Z.title,layout:"top",navTheme:"dark",rightContentRender:function(){return(0,e.jsx)(je.Z,{})},children:(0,e.jsx)(ee.Z,{children:(0,e.jsxs)("div",{className:X().main,ref:o,children:[(0,e.jsx)("div",{className:X().leftMenu,children:(0,e.jsx)(de.Z,{mode:"inline",selectedKeys:[I],onClick:function(j){var U=j.key;return Z(U)},children:A()})}),(0,e.jsxs)("div",{className:X().right,children:[(0,e.jsx)("div",{className:X().title,children:m()}),T()]})]})})})},or=lr}}]);
