syntax = "proto3";
package idas.endpoint.users;
import public "gogoproto/gogo.proto";
import "v1/base.proto";
option go_package = "idas/pkg/endpoint;endpoint";



enum UserStatus{
  unknown = 0;
  normal = 1;
  disable = 2;
}

message GetUsersRequest{
  idas.endpoint.base.BaseListRequest BaseListRequest = 1[(gogoproto.embed) = true, (gogoproto.nullable) = false];
  string app = 2;
  string storage = 3[(gogoproto.jsontag) = "storage"];
  UserStatus status = 4[(gogoproto.moretags) = 'enum:"Unknown|Normal|Disable"'];
}


message UserInfo{
  string id = 1[(gogoproto.jsontag) = "id"];
  string username = 2[(gogoproto.jsontag) = "username"];
  UserStatus status = 3[(gogoproto.jsontag) = "status",(gogoproto.moretags) = 'enum:"Unknown|Normal|Disable"'];
  string storage = 4[(gogoproto.jsontag) = "storage"];
  string email = 5;
  string fullName = 6;
  string avatar = 7;
  string phoneNumber = 8;
  string role = 9;
  string roleId = 10;
  string loginTime = 11;
  string updateTime = 12[(gogoproto.jsontag) = "updateTime"];
  string createTime = 13[(gogoproto.jsontag) = "createTime"];
  bool isDelete = 14[(gogoproto.jsontag) = "isDelete"];
}

message GetUserResponse{
  bool success = 1[(gogoproto.jsontag) = "success"];
  UserInfo data = 2;
  string errorCode = 3;
  string errorMessage = 4;
  string traceId = 5[(gogoproto.jsontag) = "traceId"];
}
message GetUsersResponse{
  bool success = 1[(gogoproto.jsontag) = "success"];
  repeated UserInfo data = 2;
  string errorCode = 3;
  string errorMessage = 4;
  string traceId = 5[(gogoproto.jsontag) = "traceId"];
  int64 current = 6;
  int64 pageSize = 7;
  int64 total = 8;
}

message PatchUserRequest{
  string id = 1;
  UserStatus status =2[(gogoproto.moretags) = 'enum:"Unknown|Normal|Disable"'];
  bool isDelete = 3[(gogoproto.nullable) = true];
  string storage = 4[(gogoproto.jsontag) = "storage"];
}

message PatchUsersResponse{
  bool success = 1[(gogoproto.jsontag) = "success"];
  string errorCode = 2;
  string errorMessage = 3;
  string traceId = 4[(gogoproto.jsontag) = "traceId"];
  int64 total = 5;
}